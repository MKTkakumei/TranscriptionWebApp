# プロジェクト仕様書: 文字起こしWebアプリ

## 1. プロジェクト概要
本プロジェクトは、リアルタイムで音声認識（STT: Speech-to-Text）を行い、文字起こしを行うWebアプリケーションを開発することを目的とします。
段階的な開発を行い、最終的には複数人での利用や話者分離までを目指します。

## 2. 技術選定
- **STTエンジン**: Web Speech API (Google Chrome等のブラウザ標準機能)
- **フロントエンド**: HTML, CSS (Vanilla), JavaScript (Vanilla)
- **バックエンド (Phase 3以降)**: Python (FastAPI または Flask)

## 3. 開発フェーズ

### フェーズ1: 基本機能 (完了)
- **リアルタイムストリーミング**: マイク入力から即座に文字起こし。
- **タイムスタンプ記録**: `[YYYY/MM/DD(曜日) HH:MM:SS]` 形式。
- **UI**: ダークモード、日本語対応。

### フェーズ2: ログ保存と話者特定 (修正)
議事録作成の効率化を目指し、以下の機能を追加します。

- **機能要件**:
  - **話者名入力**: ユーザーが自分の名前を入力できるフィールドを追加。
  - **ログへの話者付与**: 文字起こし結果に `[時間] [名前] テキスト` の形式で記録。
  - **テキストファイル出力**: ログをテキストファイルとしてダウンロード。

### フェーズ3: ログ統合機能 (完了)
複数人が各自のPCでアプリを使用し、そのログを統合して一つの議事録を作成する機能です。

- **機能要件**:
  - **ログ取り込み**: 複数のテキストファイル（フェーズ2で出力したもの）を読み込む。
  - **ファイル管理**:
    - ファイルの追加・削除（個別/一括）。
    - 重複ファイルの自動排除。
    - 折りたたみ可能なUIでスペースを節約。
  - **時系列ソート**: 全てのログをタイムスタンプ順に並び替えて結合。
  - **統合ログ出力**: 統合された完全な議事録を出力。
  - **メリット**: 各自がマイクの近くで話すことで、より高精度な文字起こしが可能。

### フェーズ4: AI話者分離 (将来的な拡張)
1つのマイクで複数人の声を拾う場合の補助機能として実装。
※フェーズ3まででブラウザ完結の有用なツールとなるため、まずはフェーズ3までの完成を目指します。

- **技術スタック**: `Pyannote.audio` (Python)
- **機能要件**: 声の特徴から話者を識別。

## 4. 今後の進め方
1. フェーズ2の実装（話者名入力、ログ保存） (完了)
2. フェーズ3の実装（ログ統合・ソート機能） (完了)
3. (任意) フェーズ4の検討
